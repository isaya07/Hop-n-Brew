webpackJsonp([3],{VCLo:function(t,e,i){"use strict";var s=i("mvHQ"),a=i.n(s),n=i("woOf"),o=i.n(n),h=i("Zrlr"),r=i.n(h),l=i("wxAW"),c=i.n(l),u=i("xnLf"),f=i("r5j1"),d=i("Zh+r"),m=i("fz5m"),p=i("bZ3E"),v=i("5dd2"),g=i("7tHv"),b=i("3Jxy"),y=i("eo9B"),w=i("trpZ"),k=i("Anna"),O=i("Wtf7"),S=["Extract","Partial Mash","All Grain"],z=function(){function t(e,i){var s=this;if(r()(this,t),this.toBeerXml=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(O.a)(s.toJSON(),"recipe",t)},this.name="",this.notes="",this.brewer="",this.asstBrewer=null,this.type="",this.equipment=new y.a,this.style=new w.a,this.batchSize=20,this.boilSize=23,this.calcBoilSize=!0,this.boilTime=60,this.efficiency=75,this.fermentables=[],this.yeasts=[],this.hops=[],this.miscs=[],this.waters=[],this.mash=new v.a(e,{recipe:this}),this.fermentation=new g.a,this.carbonation=new b.a,this.og=0,this.fg=0,this.tasteNote="",this.tasteRating="",this.date="",this.estOg=null,this.estFg=null,this.estColor=null,this.ibu=null,this.ibuMethod="tinseth",this.estAbv=null,this.abv=null,this.actualEfficiency=null,this.calories=null,this.displayBatchSize=null,this.displayBoilSize=null,this.displayOg=null,this.displayFg=null,this._config=e,i){if(o()(this,i),i.fermentables&&0!==i.fermentables.length){this.fermentables=[];for(var a=0;a<i.fermentables.length;a++)this.add("fermentable",i.fermentables[a])}if(i.hops&&0!==i.hops.length){this.hops=[];for(var n=0;n<i.hops.length;n++)this.add("hop",i.hops[n])}if(i.yeasts&&0!==i.yeasts.length){this.yeasts=[];for(var h=0;h<i.yeasts.length;h++)this.add("yeast",i.yeasts[h])}if(i.miscs&&0!==i.miscs.length){this.miscs=[];for(var l=0;l<i.miscs.length;l++)this.add("misc",i.miscs[l])}if(i.waters&&0!==i.waters.length){this.waters=[];for(var c=0;c<i.waters.length;c++)this.add("water",i.waters[c])}i.equipment&&(this.equipment=new y.a(i.equipment))}}return c()(t,[{key:"getTypeList",value:function(){return S}},{key:"getBatchSize",value:function(t){return this.displayBatchSize?k.a.convertTo(this.displayBatchSize,t):this.batchSize}},{key:"setBatchSize",value:function(t,e){this.batchSize=t,this.displayBatchSize=t+" "+e}},{key:"getBoilSize",value:function(t){return this.equipment.calcBoilVolume?this.calculBoilSize():this.displayBoilSize?k.a.convertTo(this.displayBoilSize,t):this.boilSize}},{key:"setBoilSize",value:function(t,e){this.equipment.calcBoilVolume||(this.boilSize=t,this.displayBoilSize=t+" "+e)}},{key:"getOg",value:function(t){return this.displayOg?k.a.convertTo(this.displayOg,t):this.og}},{key:"setOg",value:function(t,e){this.og=t,this.displayOg=t+" "+e}},{key:"getFg",value:function(t){return this.displayFg?k.a.convertTo(this.displayFg,t):this.fg}},{key:"setFg",value:function(t,e){this.fg=t,this.displayFg=t+" "+e}},{key:"getEstOg",value:function(t){return this.estOg||this.updateOg(),k.a.convertTo(this.estOg,t,3)}},{key:"setEstOg",value:function(t,e){this.estOg=t+" "+e}},{key:"getEstFg",value:function(t){return this.estFg||this.updateFg(),k.a.convertTo(this.estFg,t,3)}},{key:"setEstFg",value:function(t,e){this.estFg=t+" "+e}},{key:"getEstAbv",value:function(){if(this.estAbv)return k.a.isType("string",this.estAbv)?k.a.roundDecimal(this.estAbv.split(" ")[0],1):this.estAbv;var t=this.calculAbv();return this.setEstAbv(t),t}},{key:"setEstAbv",value:function(t){this.estAbv=t+" %"}},{key:"getFementablesTotal",value:function(){for(var t=0,e=0;e<this.fermentables.length;e++)t+=this.fermentables[e].amount;return t}},{key:"calculAbv",value:function(){return k.a.roundDecimal(76.08*(this.estOg-this.estFg)/(1.775-this.estOg)*(this.estFg/.794),1)}},{key:"calculBoilSize",value:function(){return k.a.roundDecimal(this.batchSize/(1-this.equipment.evapRate/100)*this.boilTime/60+this.equipment.trubChillerLoss,1)}},{key:"updateOg",value:function(){if(this.fermentables){var t=void 0,e=0,i=0;for(t=0;t<this.fermentables.length;t++)e+=this.fermentables[t].getSugar(this.efficiency),i+=this.fermentables[t].getColor(this.batchSize);this.estOg=k.a.roundDecimal((this.batchSize-e/1.59+e)/this.batchSize,3),this.estColor=k.a.roundDecimal(i,1)}}},{key:"updateFg",value:function(){var t=void 0,e=0;for(t=0;t<this.yeasts.length;t++)this.yeasts[t].getAttenuation()>e&&(e=this.yeasts[t].getAttenuation());this.estFg=k.a.roundDecimal((this.estOg-1)*(1-e/100)+1,3),this.setCalories()}},{key:"updateIbu",value:function(){var t=void 0,e=0;for(t=0;t<this.hops.length;t++)e+=this.hops[t].bitterness(this.ibuMethod.toLowerCase(),this.estOg,this.batchSize);this.ibu=k.a.roundDecimal(e,1)}},{key:"setCalories",value:function(){var t,e,i=void 0;(i=(6.9*(((t=k.a.sgToPlato(this.estOg))-(e=.1808*t+.8192*k.a.sgToPlato(this.estFg)))/(2.0665-.010665*t))+4*(e-.1))*this.estFg*3.55)<0&&(i=0),this.calories=i*(1/k.a.onceToLiter(12))}},{key:"add",value:function(t,e){var i=void 0,s=void 0;switch(t){case"fermentable":i=this.fermentables.push(new u.a(e)),s=this.updateOg.bind(this);break;case"hop":i=this.hops.push(new f.a(e)),s=this.updateIbu.bind(this);break;case"yeast":i=this.yeasts.push(new d.a(e)),s=this.updateFg.bind(this);break;case"misc":i=this.miscs.push(new m.a(e));break;case"water":i=this.waters.push(new p.a(e))}return s&&s(),i}},{key:"remove",value:function(t,e){var i=void 0,s=void 0;switch(t){case"fermentable":i=this.fermentables,s=this.updateOg.bind(this);break;case"hop":i=this.hops,s=this.updateIbu.bind(this);break;case"yeast":i=this.yeasts,s=this.updateFg.bind(this);break;case"misc":i=this.miscs;break;case"water":i=this.waters}for(var n=0;n<i.length;n++)a()(i[n])===a()(e)&&i.splice(n,1);s&&s()}},{key:"toJSON",value:function(){return{name:this.name,notes:this.notes,brewer:this.brewer,type:this.type,equipment:this.equipment,style:this.style,batchSize:this.batchSize,boilSize:this.boilSize,boilTime:this.boilTime,efficiency:this.efficiency,fermentables:this.fermentables,yeasts:this.yeasts,hops:this.hops,misc:this.misc,waters:this.waters,mash:this.mash,fermentation:this.fermentation,carbonation:this.carbonation,og:this.og,fg:this.fg,tasteNote:this.tasteNote,tasteRating:this.tasteRating,date:this.date,estOg:this.estOg,estAbv:this.estAbv,estFg:this.estFg,estColor:this.estColor,ibu:this.ibu}}}],[{key:"fromBeerXml",value:function(t){return Object(O.b)(t,"recipe")}}]),t}();e.a=z},h687:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("fZjL"),a=i.n(s),n=i("uD0a"),o=i("VCLo"),h={name:"recettesList",components:{Import:n.a},mounted:function(){this.fetchData()},data:function(){var t={},e={showModal:!1,columns:["id","nom","origine","type","couleur","potentiel","max","stock","prix"],sortKey:"",filterKey:"",sortOrders:t,modalTitle:"",modalData:null,db:"recipes",data:[]};return e.columns.forEach(function(e){t[e]=1}),e},computed:{filteredData:function(){var t=this.sortKey,e=this.filterKey&&this.filterKey.toLowerCase(),i=this.sortOrders[t]||1;if(void 0!==this.data){var s=this.data;return e&&(s=s.filter(function(t){return a()(t).some(function(i){return String(t[i]).toLowerCase().indexOf(e)>-1})})),t&&(s=s.slice().sort(function(e,s){return((e=e[t])===(s=s[t])?0:e>s?1:-1)*i})),s}return null}},methods:{fetchData:function(){var t=this;this.$db.gets(this.db).then(function(e){t.data=e}).catch(function(t){console.log(t)})},sortBy:function(t){this.sortKey=t,this.sortOrders[t]=-1*this.sortOrders[t]},importClick:function(t){var e=this,i=o.a.fromBeerXml(t);console.log(i);var s=void 0,a=0,n=!1,h=function(){var t=i[s];a++,t._id=t.name,e.$db.put(e.db,t,{force:!1}).then(function(){e.$notification.success(t.name+" successfully imported")}).catch(function(i){n=!0,e.$notification.error("Import of "+t.name+" failed: "+i),console.error("Import of "+name+" failed: "+i)})};for(s in i)h();n||this.$notification.success(a+" "+this.db+" successfully imported")},add:function(){this.$router.push({name:"edit",params:{name:"new"}})},edit:function(t){this.modalTitle="Editer Recettes",this.$emit("update",t),this.showModal=!0},supress:function(t){var e=this;this.$http.delete("/api/recettes/"+t.id).then(function(t){e.$store.dispatch("getAllRecettes")},function(t){console.log("error from delete request /api/recettes")})},closeModal:function(){this.showModal=!1}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"section"},[i("div",{staticClass:"grid-3"},[i("div",{staticClass:"col"},[i("div",{staticClass:"has-icon"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filterKey,expression:"filterKey"}],attrs:{type:"text",placeholder:"Search",name:"query"},domProps:{value:t.filterKey},on:{input:function(e){e.target.composing||(t.filterKey=e.target.value)}}}),t._v(" "),i("icon",{staticClass:"fa icon-right",attrs:{name:"search"}})],1)]),t._v(" "),i("div",{staticClass:"col"},[i("import",{on:{import:t.importClick}},[t._v("Import")])],1),t._v(" "),i("div",{staticClass:"col"},[i("button",{attrs:{type:"button"},on:{click:t.add}},[i("i",{staticClass:"fa fa-plus"}),t._v(" "),i("span",[t._v("Create")])])])]),t._v(" "),i("ul",{attrs:{id:"example-1"}},t._l(t.filteredData,function(e,s){return i("li",{key:s},[i("router-link",{attrs:{to:{name:"edit",params:{name:e.name}}}},[t._v(t._s(e.name))])],1)})),t._v(" "),i("router-view")],1)},staticRenderFns:[]};var l=i("VU/8")(h,r,!1,function(t){i("nbyZ")},null,null);e.default=l.exports},nbyZ:function(t,e){}});